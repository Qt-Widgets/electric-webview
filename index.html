<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Instant-webview by gustavosbarreto</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Instant-webview</h1>
      <h2 class="project-tagline">Instant WebView is a scriptable WebView for developers</h2>
      <a href="https://github.com/gustavosbarreto/instant-webview" class="btn">View on GitHub</a>
      <a href="https://github.com/gustavosbarreto/instant-webview/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/gustavosbarreto/instant-webview/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introduction</h1>

<p><a href="https://travis-ci.org/gustavosbarreto/instant-webview"><img src="https://travis-ci.org/gustavosbarreto/instant-webview.svg?branch=master" alt="Build Status"></a></p>

<p>Instant WebView is a scriptable WebView for developers.</p>

<p>The WebView uses the QtWebEngine (which is based on Chromium) to render the HTML
content. There is also a simple protocol to get data, send commands and
listen for events: through Unix Socket, TCP or WebSocket. The window of WebView
does not have any UI component what you see in a standard web browser like an
address bar, status bar, navigation buttons, etc.</p>

<h1>
<a id="use-cases" class="anchor" href="#use-cases" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use Cases</h1>

<ul>
<li>Web testing

<ul>
<li>Browser automated testing done easy.</li>
</ul>
</li>
<li>Page automation

<ul>
<li>Access and manipulate web pages using DOM API.</li>
</ul>
</li>
<li>Digital Signage

<ul>
<li>Display Web content without distractions.</li>
</ul>
</li>
<li>Kiosk Web Browser

<ul>
<li>The users can only interact with a single web application.</li>
</ul>
</li>
</ul>

<h1>
<a id="building" class="anchor" href="#building" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Building</h1>

<p>Before building Instant WebView you need to install GCC 6, Qt and QtWebEngine 5.6 on the system.</p>

<div class="highlight highlight-source-shell"><pre>qmake PREFIX=/usr
make
make install</pre></div>

<h1>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h1>

<h3>
<a id="instant-webview" class="anchor" href="#instant-webview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>instant-webview</h3>

<p>The WebView itself.</p>

<pre><code>Usage: instant-webview [options]
Instant WebView is a scriptable WebView for developers.

Options:
  -h, --help                                  Displays this help.
  -v, --version                               Displays version information.
  -t, --transport &lt;tcp|unixsocket|websocket&gt;  IPC Transport Layer to use.
  -r, --reverse &lt;ID&gt;                          Enable reverse mode. The ID is
                                              used to identify your session in
                                              the server.
  -s, --script &lt;path&gt;                         Script to run.
</code></pre>

<p><strong>Example:</strong></p>

<div class="highlight highlight-source-shell"><pre>instant-webview -t unixsocket:/tmp/instant-webview</pre></div>

<h3>
<a id="instant-webview-ctl" class="anchor" href="#instant-webview-ctl" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>instant-webview-ctl</h3>

<p>A utility to interact with the WebView.</p>

<pre><code>Usage: instant-webview-ctl [options] command
Instant WebView is a scriptable WebView for developers.

Options:
  -h, --help                                  Displays this help.
  -v, --version                               Displays version information.
  -t, --transport &lt;tcp|unixsocket|websocket&gt;  IPC Transport Layer to use.

Arguments:
  command                                     Command to execute. Pass "-" to
                                              read from stdin.
</code></pre>

<p><strong>Example:</strong></p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>open maximized<span class="pl-pds">"</span></span> <span class="pl-k">|</span> instant-webview-ctl -t unixsocket:/tmp/instant-webview -</pre></div>

<h1>
<a id="commands" class="anchor" href="#commands" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Commands</h1>

<p>Instant WebView reads commands from TCP, Unix Socket or WebSocket. Each command starts
with the name of a command and is terminated by a newline. Empty line are interpreted
as end of connection.</p>

<p>If the command starts with <code>@</code> the command is marked as single-shot.</p>

<p>Due to the simplicity of the protocol, it is possible to interact with the WebView
using the command-line utility GNU Netcat. However, there is <code>instant-webview-ctl</code>
utility that can be used to interact with the WebView, so you don't need extra
tools to interact with the WebView.</p>

<p>Simple example using the GNU Netcat utility to demonstrate how simple is the protocol:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>open maximized<span class="pl-pds">"</span></span> <span class="pl-k">|</span> nc -U /tmp/instant-webview
<span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>load http://google.com<span class="pl-pds">"</span></span> <span class="pl-k">|</span> nc -U /tmp/instant-webview</pre></div>

<p>In the below example a maximized window is open and the <a href="http://google.com">http://google.com</a> is loaded.</p>

<h2>
<a id="single-shot-commands" class="anchor" href="#single-shot-commands" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Single-shot commands</h2>

<p>Single-shot commands might be used to wait until command response is received.
It might be useful to get data from the WebView using both <code>instant-webview-ctl</code>
and GNU Netcat utility.</p>

<div class="highlight highlight-source-shell"><pre>URL=<span class="pl-s"><span class="pl-pds">$(</span><span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>@current_url<span class="pl-pds">"</span></span> <span class="pl-k">|</span> instant-webview-ctl -t unixsocket:/tmp/instant-webview<span class="pl-pds">)</span></span>
<span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>The current URL is <span class="pl-smi">$URL</span><span class="pl-pds">"</span></span></pre></div>

<h2>
<a id="command-response" class="anchor" href="#command-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Command response</h2>

<p>The response of a command may vary according the type of command. If the command is
marked as single-shot, the response only contains the returned data from the command,
otherwise it is not a single-shot command, the response is composed of the command
name and returned data, separated by space.</p>

<p><strong>Note that not all commands have a response.</strong></p>

<h2>
<a id="navigation" class="anchor" href="#navigation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Navigation</h2>

<ul>
<li>
<p><code>load &lt;URL&gt;</code></p>

<ul>
<li>Loads the specified <code>URL</code>.</li>
</ul>
</li>
<li>
<p><code>stop</code></p>

<ul>
<li>Stops loading the document.</li>
</ul>
</li>
<li>
<p><code>reload</code></p>

<ul>
<li>Reloads the current document.</li>
</ul>
</li>
<li>
<p><code>back</code></p>

<ul>
<li>Loads the previous document in the list of documents built by navigating links.</li>
</ul>
</li>
<li>
<p><code>forward</code></p>

<ul>
<li>Loads the next document in the list of documents built by navigating links.</li>
</ul>
</li>
</ul>

<h2>
<a id="window" class="anchor" href="#window" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Window</h2>

<ul>
<li>
<p><code>open &lt;maximized|fullscreen&gt;</code></p>

<ul>
<li>Open the window. If <code>maximized</code> is given, the window is open in maximized
state, otherwise <code>fullscreen</code> is given, the window is open in fullscreen mode.</li>
</ul>
</li>
<li>
<p><code>close</code></p>

<ul>
<li>Closes the window.</li>
</ul>
</li>
</ul>

<h2>
<a id="page" class="anchor" href="#page" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Page</h2>

<ul>
<li>
<code>current_url</code>

<ul>
<li>Returns the URL of the web page currently viewed.</li>
</ul>
</li>
<li>
<code>current_title</code>

<ul>
<li>Returns the title of the web page currently viewed.</li>
</ul>
</li>
<li>
<code>screenshot [REGION]</code>

<ul>
<li>Take a screenshot of the web page currenly viewed and send base64 encoded JPG.
If <code>[REGION]</code> is given, restrict the screenshot by the given region <code>(x,y,width,height)</code>.</li>
</ul>
</li>
</ul>

<h2>
<a id="content" class="anchor" href="#content" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Content</h2>

<ul>
<li>
<p><code>set_html &lt;string|file&gt; &lt;VALUE&gt;</code></p>

<ul>
<li>Sets the content of the web page. If <code>file</code> is given, the <code>VALUE</code>
is interpreted as a path to a file to load, otherwise <code>string</code> is given,
the <code>VALUE</code> is used to set the content of the web page.</li>
</ul>
</li>
<li>
<p><code>js &lt;string|file&gt; &lt;VALUE&gt;</code></p>

<ul>
<li>Run JavaScript code. If <code>file</code> is given, the <code>VALUE</code> is interpreted as
a path to a file to load, otherwise <code>string</code> is given, the value <code>VALUE</code>
is executed as JavaScript code.</li>
</ul>
</li>
</ul>

<h2>
<a id="events" class="anchor" href="#events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Events</h2>

<ul>
<li>
<code>subscribe &lt;VALUE&gt;</code>

<ul>
<li>Subscribe to specified event in <code>VALUE</code>.</li>
</ul>
</li>
</ul>

<h3>
<a id="available-events" class="anchor" href="#available-events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Available events</h3>

<ul>
<li>
<code>url_changed</code>

<ul>
<li>This event is fired when the url chages.</li>
</ul>
</li>
<li>
<code>title_changed</code>

<ul>
<li>This event is fired whenever the title changes.</li>
</ul>
</li>
<li>
<code>load_started</code>

<ul>
<li>This event is fired when a page starts loading content.</li>
</ul>
</li>
<li>
<code>load_finished</code>

<ul>
<li>This event is fired when a load of the page has finished.</li>
</ul>
</li>
<li>
<code>user_activity &lt;IDLE_TIME&gt;</code>

<ul>
<li>This event is fired when the user interacts with the input system through
keystrokes or mouse clicks. The <code>IDLE_TIME</code> is the milliseconds since the
last user activity.</li>
</ul>
</li>
</ul>

<h2>
<a id="instant-webview-1" class="anchor" href="#instant-webview-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Instant WebView</h2>

<ul>
<li>
<code>idle_time</code>

<ul>
<li>Returns the idle time from the last user activity in milliseconds.</li>
</ul>
</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/gustavosbarreto/instant-webview">Instant-webview</a> is maintained by <a href="https://github.com/gustavosbarreto">gustavosbarreto</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
